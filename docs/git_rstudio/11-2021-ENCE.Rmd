---
title: "Introdu√ß√£o √† utiliza√ß√£o do Git e GitHub no RStudio"
subtitle: '5¬™ Semana de Inicia√ß√£o Cient√≠fica da ENCE'
author: 
  - "Beatriz Milz "
date: '26 de novembro de 2021'
output:
  xaringan::moon_reader:
    css: xaringan-themer2021-nov.css
    nature:
      slideNumberFormat: "%current%"
      highlightStyle: github
      highlightLines: true
      ratio: 16:9
      countIncrementalSlides: true
---
class: middle

```{r setup, include=FALSE}
options(htmltools.dir.version = FALSE)
knitr::opts_chunk$set(
  fig.width=9, fig.height=3.5, fig.retina=3,
  out.width = "100%",
  cache = FALSE,
  echo = FALSE,
  message = FALSE, 
  warning = FALSE,
  hiline = TRUE,
  fig.align = "center"
)
```

```{r eval=FALSE, include=FALSE}
# devtools::install_github("hadley/emo")
# devtools::install_github("gadenbuie/xaringanExtra")
# devtools::install_github("gadenbuie/ermoji")
# remotes::install_github("mitchelloharawild/icons")
```



```{r xaringanExtra-clipboard, echo=FALSE}
xaringanExtra::use_clipboard()
```


```{r xaringan-themer, include=FALSE, warning=FALSE}
library(xaringanthemer)
style_duo_accent(outfile = "xaringan-themer2021-nov.css",
  primary_color = "#0a427b",
  title_slide_background_color = "#0a427b",
  title_slide_text_color = "#FFFFFF",
  inverse_text_color = "#FFFFFF",
  inverse_header_color = "#FFFFFF",
  secondary_color = "#145683",

  header_font_google = google_font("Jost"),
  text_font_google   = google_font("Work Sans", "300", "300i"),
  code_font_google   = google_font("Fira Code"),
  base_font_size = "25px"
)
```

```{css echo=FALSE}
blockquote {
    background-color: lavender; !important
}

a, a > code {
    color: #145683;
    text-decoration: underline;
    text-decoration-style: dotted;
}

.inverse a, .inverse a > code {
    color: #ffdfb9;
}


.remark-inline-code{
    color: #3bc6c7;
}
```


.pull-left[

## Beatriz Milz      
[`r icons::icon_style(icons::fontawesome(name = "question", style = "solid"), fill = "#145683", scale = 1.7)`](https://discourse.curso-r.com/u/beatrizmilz/summary) 
[`r icons::icon_style(icons::fontawesome(name = "home", style = "solid"), fill = "#145683", scale = 1.7)`](https://beatrizmilz.com/)
[`r icons::icon_style(icons::fontawesome("twitter"), fill = "#145683", scale = 2)`](https://twitter.com/BeaMilz)
[`r icons::icon_style(icons::fontawesome(name = "github"), fill = "#145683", scale = 2)`](https://github.com/beatrizmilz)
[`r icons::icon_style(icons::academicons("orcid"), fill = "#145683", scale = 2)`](https://orcid.org/0000-0002-3064-4486)
[`r icons::icon_style(icons::academicons("lattes"), fill = "#145683", scale = 2)`](http://lattes.cnpq.br/5150665880581477)


 
]

.pull-right[


- 2019 - * - Doutoranda em Ci√™ncia Ambiental - PROCAM/IEE/USP

- 2016-2018 - Mestrado em Ci√™ncias - Programa de P√≥s-Gradua√ß√£o em An√°lise Ambiental Integrada - UNIFESP

- 2012-2015 - Bacharelado em Gest√£o Ambiental - EACH/USP

]



---


### R: Comunidades, eventos, pacotes, livros..
<center>


<a href='https://curso-r.com/'>  <img src="img/Hex/curso-r-azul.jpg" width="150px"></a>

<a href='https://education.rstudio.com/trainers/'>  <img src='img/Hex/CertifiedRstudioTrainer.png' width="150px"></a>


<a href='https://rladies.org/'>  <img src='img/Hex/1hexlogorladies.jpeg' width="150px"></a>


<a href='https://livro.curso-r.com/'>  <img src='https://curso-r.com/images/produtos/hex-livro.png' width="150px"></a>



<a href='https://saopaulo2019.satrdays.org/'>  <img src='img/Hex/2satrdaysp.png' width="150px"></a>
<a href='https://latin-r.com/'>  <img src='img/Hex/4LatinR_hex_violeta-cut.jpg' width="150px"></a><a href='https://carpentries.org/'><img src='img/Hex/carpentries.png' width="150px"></a>
<a href='https://user2021.r-project.org/'><img src='https://user2021.r-project.org/img/artwork/user-logo-color.png' width="150px"></a><a href='https://cienciadedatos.github.io/dados/'><img src='https://cienciadedatos.github.io/dados/reference/figures/dados-hex.png' width="150px"></a>
<a href='https://beatrizmilz.github.io/mananciais/'>  <img src='https://beatrizmilz.github.io/mananciais/reference/figures/hexlogo.png' width="150px"></a>
<a href='https://ropensci.org/'>  <img src='img/Hex/ropensci.png' width="170px"></a>


</center>

---

## Conte√∫do

- [Pr√©-requisitos](#prerequisitos)

- [Conceitos b√°sicos importantes](#conceitosimportantes)

- [Configurando o Git e GitHub no RStudio](#configurando)

- [Primeiros passos com o Git e GitHub no RStudio](#primeirospassos)

---
class: middle, center, inverse
name: prerequisitos

## Pr√©-requisitos




---
class: middle

.pull-left[
### R 
  - [Download neste link](https://cran.r-project.org/)
  - Use a vers√£o mais recente `r emo::ji("wink")`


  
]

.pull-right[
```{r, out.width="100%"}
knitr::include_graphics("img/R_logo.svg.png")
```
]


---
class:middle

```{r, out.width="100%"}
knitr::include_graphics("img/prints/install_R.png")
```


---
class: middle


.pull-left[
### RStudio
  - [Download neste link](https://www.rstudio.com/products/rstudio/download/)
  - Use a vers√£o mais recente `r emo::ji("wink")`
  

  
]

.pull-right[
```{r out.width="100%"}
knitr::include_graphics("img/rstudio.png")
```
]

---
class: middle

```{r, out.width="100%"}
knitr::include_graphics("img/prints/install_RStudio.png")
```

---
class: middle

.pull-left[

### Git 
  - [Download neste link](https://git-scm.com/downloads)

  

]


.pull-right[
```{r out.width="80%"}
knitr::include_graphics("https://git-scm.com/images/logo@2x.png")
```

]

---
class:middle

```{r, out.width="70%"}
knitr::include_graphics("img/prints/install-git.png")
```

---
class: middle


.pull-left[
### Conta no GitHub
  - [Neste link](https://github.com/)
  - Caso j√° tenha, n√£o √© preciso criar uma nova conta.
  
  

  
]

.pull-right[
```{r out.width="100%"}
knitr::include_graphics("img/github-logo.png")
```
]

  - Se for estudante: 
    - [GitHub Student Developer Pack](https://education.github.com/pack) - utiliza email institucional da universidade.


---
class: middle


### Instala√ß√£o de pacotes

.pull-left[
- Instalar o Pacote [`usethis`](https://usethis.r-lib.org/)

```{r echo=TRUE, eval=FALSE}
install.packages("usethis")
library(usethis)
```
]

.pull-right[
```{r, out.width="50%"}
knitr::include_graphics("https://usethis.r-lib.org/reference/figures/logo.png")
```
]

---
class: middle, center, inverse
name: conceitosimportantes

## Conceitos b√°sicos importantes



---

### O que √© Git?

- Git √© um **sistema de versionamento**, criado por Linus Torvalds, autor do Linux.

- √â capaz de guardar o hist√≥rico de altera√ß√µes de todos os arquivos dentro de uma pasta, que chamamos de reposit√≥rio.

- Funciona como o "*Track changes*" do word, mas muito melhor.

- Torna-se importante √† medida que seu trabalho √© __colaborativo__.

- Git √© um software que voc√™ instala no computador.

  

```{r out.width="30%"}
knitr::include_graphics("https://git-scm.com/images/logo@2x.png")
```

> <i class="far fa-flag"></i> [Slide](https://curso-r.github.io/main-pacotes/slides/index.html) do curso de [Pacotes](https://curso-r.com/cursos/pacotes/), da [Curso-R](https://curso-r.com/).


---

### O que √© GitHub?


- GitHub √© um site onde voc√™ coloca e compartilha reposit√≥rios Git.

- Utilizado por milh√µes de pessoas em projetos de c√≥digo aberto ou fechado.

- √ötil para colaborar com outros programadores em projetos de ci√™ncia de dados.

- Existem alternativas, como [GitLab](https://about.gitlab.com/) e [BitBucket](https://bitbucket.org/product).

- GitHub √© um site que voc√™ acessa na internet.

```{r out.width="30%"}
knitr::include_graphics("img/github-logo.png")
```

<br>

> <i class="far fa-flag"></i> [Slide](https://curso-r.github.io/main-pacotes/slides/index.html) do curso de [Pacotes](https://curso-r.com/cursos/pacotes/), da [Curso-R](https://curso-r.com/).


---
class: middle, center

<a href='https://github.com/beatrizmilz' target="_blank">
```{r echo=FALSE, out.width="70%"}
knitr::include_graphics("img/github2021.png")
```
</a>

---

### Coment√°rios importantes

- Voc√™ pode usar o Git atrav√©s:
  -  __Linha de comando__ :
      - [git](https://git-scm.com/)
      - terminal do RStudio
  - __Interfaces gr√°ficas__:
      - [GitHub Desktop](https://desktop.github.com/)
      - [Sourcetree](https://www.sourcetreeapp.com/)
      - Git Pane do RStudio
      - Entre outros!
    
Aqui apresento com o RStudio, mas escolha o que √© mais confort√°vel para voc√™ :)

- Independente de qual ferramenta voc√™ escolher, √© importante qual comando do Git equivale a um "bot√£o" na interface gr√°fica. √â muito importante entender as equival√™ncias!

---
class: middle,  inverse, center
name: configurando

## Configurando o Git e GitHub no RStudio

`r emo::ji("woman_technologist")` √â necess√°rio fazer apenas uma vez (por usu√°rio do computador)!


#### ...Depende do sistema operacional que voc√™ utiliza!



---
class: middle,  inverse

### Configurando o Git e GitHub no RStudio

.pull-left[
#### Se voc√™ usa Windows ou MacOS - Usando HTTPS



- `r emo::ji("white_large_square")` Ter o pacote `usethis` instalado 

- `r emo::ji("white_large_square")` Se apresentar para o `git` 

- `r emo::ji("white_large_square")` Abrir o arquivo `.Renviron` 

- `r emo::ji("white_large_square")` Criar um GitHub Token/PAT

- `r emo::ji("white_large_square")` Armazenar o GitHub Token/PAT 

- `r emo::ji("white_large_square")` Reiniciar o RStudio
]

.pull-right[
#### Se voc√™ usa Linux - Usando SSH



- `r emo::ji("white_large_square")` Ter o pacote `usethis` instalado 

- `r emo::ji("white_large_square")` Se apresentar para o `git`

- `r emo::ji("white_large_square")` Seguir este tutorial para configurar as chaves `SSH`: https://happygitwithr.com/ssh-keys.html 



]
<!-- `r emo::ji("heavy_check_mark")` -->

<!--  `r emo::ji("x")` -->

---
class: middle

### Configurando o Git

- Informar para o Git seu nome, e email.

- Utilize o mesmo email associado √† sua conta do GitHub.


  - Com o `usethis`:

```{r echo=TRUE, eval=FALSE}
usethis::use_git_config(# Seu nome
                        user.name = "Beatriz Milz", 
                        # Seu email
                        user.email = "beatriz.milz@hotmail.com") 
```


---

### Configure o Personal Access Token 

- Ao conectar com o GitHub, voc√™ ser√° instru√≠da(o) a criar um *Personal Access Token* (PAT).

- O PAT serve para autenticar ao GitHub, podendo ser utilizado como senha de acesso ou internamente para automatizar tarefas (como criar um reposit√≥rio).

- Para criar um novo PAT, use a fun√ß√£o `usethis::create_github_token()`. Uma janela do navegador ser√° aberta, e voc√™ deve autenticar no GitHub (se necess√°rio), criar o novo token, e copi√°-lo. 

```{r echo=TRUE, eval=FALSE}
usethis::create_github_token()
```


> <i class="far fa-flag"></i> [Slide](https://curso-r.github.io/main-pacotes/slides/index.html) do curso de [Pacotes](https://curso-r.com/cursos/pacotes/), da [Curso-R](https://curso-r.com/).


---

### Armazenar o Personal Access Token 

#### M√©todo 1 - `gitcreds::gitcreds_set()`


.pull-left[
```{r echo=TRUE, eval=FALSE}
gitcreds::gitcreds_set()
# -> Your current credentials for 'https://github.com':
#   protocol: https
#   host    : github.com
#   username: beatrizmilz
#   password: <-- hidden -->
#     
# -> What would you like to do? 
# 1: Keep these credentials
# 2: Replace these credentials
# 3: See the password / token
```
]


.pull-right[
Siga as instru√ß√µes e cole o PAT quando for solicitado as credenciais.

```{r echo=TRUE, eval=FALSE}
# -> Adding new credentials...
# -> Removing credetials from cache...
# -> Done.
```
]




---

### Armazenar o Personal Access Token 

#### M√©todo 2 - Armazenar manualmente no `.Renviron`

- Use a fun√ß√£o `usethis::edit_r_environ()` para abrir o arquivo `.Renviron` para salvar seu token. 

```{r echo=TRUE, eval=FALSE}
usethis::edit_r_environ()
# ‚óè Modify 'C:/Users/beatr/Documents/.Renviron'
# ‚óè Restart R for changes to take effect
```

- Crie uma nova linha na forma `GITHUB_PAT=SEU_TOKEN`, adicione o token, **pule uma linha** e salve o arquivo. Se certifique que o arquivo termina com uma linha vazia!


Use essa estrutura, substituindo os 0 pelo c√≥digo copiado na etapa anterior:

```{r echo=TRUE, eval=FALSE}
GITHUB_PAT="0000000000000000000000000000000000000000"
```




---

### Reiniciar a sess√£o 

- Lembre-se de reiniciar sua sess√£o do R!



- **Reinicie o R usando o RStudio**:  CTRL + SHIFT + F10


---


### Checando se a configura√ß√£o deu certo

Utilize a fun√ß√£o `usethis::git_sitrep()` e leia o resultado que aparece no console. A mensagem abaixo foi cortada para mostrar os trechos de interesse!


```{r echo=TRUE, eval=FALSE}
usethis::git_sitrep()
#> Git config (global)
#> ‚óè Name: 'SEU NOME DEVE APARECER AQUI'
#> ‚óè Email: 'SEU EMAIL DEVE APARECER AQUI'

#> GitHub
#> ‚óè Default GitHub host: 'https://github.com'
#> ‚óè Personal access token for 'https://github.com': '<discovered>'
#> ‚óè GitHub user: 'SEU NOME DE USU√ÅRIO(A) DEVE APARECER AQUI'
#> ‚óè Token scopes: 'gist, repo, user, workflow'
#> ‚óè Email(s): 'SEU EMAIL DEVE APARECER AQUI'
```

> <i class="far fa-flag"></i> [Slide](https://curso-r.github.io/main-pacotes/slides/index.html) do curso de [Pacotes](https://curso-r.com/cursos/pacotes/), da [Curso-R](https://curso-r.com/).

---
class: middle, center

### Momento m√£o na massa!

Tente configurar o Git e GitHub no RStudio.

Caso n√£o funcione, n√£o esque√ßa de informar o resultado da fun√ß√£o `usethis::git_sitrep()`.

```{r echo=FALSE, out.width="30%"}
knitr::include_graphics("https://i.giphy.com/media/3oKIPnAiaMCws8nOsE/giphy.webp")
```



---
class: middle, center, inverse
name: primeirospassos

## Primeiros passos com o Git e GitHub no RStudio


Dica: comece praticando nos seus projetos. Quando estiver confort√°vel, pode come√ßar a contribuir com projetos de outras pessoas! :)

---

### Fluxo de trabalho

O diagrama abaixo exemplifica o fluxo de trabalho de um projeto com versionamento.


```{r echo=FALSE, fig.align='center', out.width="60%"}
knitr::include_graphics("img/fluxo_github_rstudio.png")
```


> <i class="far fa-flag"></i> [Slide](https://curso-r.github.io/main-pacotes/slides/index.html) do curso de [Pacotes](https://curso-r.com/cursos/pacotes/), da [Curso-R](https://curso-r.com/).



---
class: middle

### Interface Gr√°fica RStudio

- O RStudio oferece um cliente Git **simples**, na aba "Git" (em ingl√™s, √© chamado de Git Pane).

- Esse painel somente aparecer√° em projetos que estejam versionados com Git.

```{r, out.width="60%"}
knitr::include_graphics("img/prints/git-pane.PNG")
```


---
class: middle

### Git pane - Staged  `r emo::ji("white_check_mark")`

```{r, out.width="70%"}
knitr::include_graphics("img/prints/git-pane-stage.png")
```

---
class: middle

### Git pane - Commit

```{r, out.width="70%"}
knitr::include_graphics("img/prints/git-pane-commit.PNG")
```

---
class: middle

### Git pane - Commit

```{r, out.width="70%"}
knitr::include_graphics("img/prints/git_commit.PNG")
```


---
class: middle

### Bot√£o Diff -> Review changes

```{r, out.width="70%"}
knitr::include_graphics("img/prints/git-pane-diff.PNG")
```

---
class: middle

### Bot√£o `r emo::ji("clock3")` (history) -> Review changes

```{r, out.width="70%"}
knitr::include_graphics("img/prints/git-pane-history.PNG")
```



---
class: middle, center, inverse

# Trabalhando com projetos no RStudio + GitHub


---
## M√©todo 1 - **Clonando um reposit√≥rio do GitHub**

- [Crie um reposit√≥rio no GitHub](https://github.com/new), ou abra a p√°gina de um reposit√≥rio j√° existente. 

.pull-left[
- Criando um reposit√≥rio no GitHub:

```{r out.width="80%"}
knitr::include_graphics("img/prints/novo-repo.PNG")
```

]

.pull-right[

Se o reposit√≥rio n√£o for "seu", fa√ßa um fork primeiro, e clone o seu fork. 

```{r out.width="100%"}
knitr::include_graphics("img/prints/fork.png")
```

]






---


- No RStudio, crie um novo projeto: File > New Project 
.pull-left[
- Na aba "Create Project", selecione a op√ß√£o **Version Control**.

```{r out.width="100%"}
knitr::include_graphics("img/prints/proj-version-control-1.PNG")
```
]

.pull-right[

- Na aba "Create Project from Version Control", selecione a op√ß√£o **Git**.
```{r out.width="100%"}
knitr::include_graphics("img/prints/proj-version-control-2.png")
```
]




---
- Na aba "Clone Git Repository":
  - **Repository URL**: Cole o link para o reposit√≥rio
  - **Project directory name**: Ap√≥s inserir o repository URL, esse campo ser√° preenchido automaticamente.
  - **Create project as subdirectory of**: Selecione o diret√≥rio onde voc√™ deseja manter sua c√≥pia local do reposit√≥rio.
```{r out.width="50%"}
knitr::include_graphics("img/prints/proj-version-control-3.png")
```

- O **RStudio** ir√° fazer o clone do reposit√≥rio, e abrir√° um RProj para ele (caso n√£o exista um ainda, ser√° criado).

---

## M√©todo 2

- **Criando um reposit√≥rio novo, diretamente do RStudio**

- Vamos usar a fun√ß√£o `usethis::create_project()` 
  - Cria um projeto `.Rproj`
  - Argumento importante: `path = ` 	√â o "caminho" para o diret√≥rio (pasta). Se o diret√≥rio j√° existe, √© utilizado. Se n√£o existe, √© criado. 
  - Cuidado com o nome do projeto, pois ser√° o mesmo nome que ser√° utilizado no reposit√≥rio. Voc√™ n√£o deve usar o nome de algum reposit√≥rio j√° existente no seu GitHub.

---

### Criando um projeto
- No meu caso, tenho o h√°bito de deixar todos os reposit√≥rios do GitHub, na pasta `GitHub/`. No exemplo abaixo, dentro da pasta GitHub, criei o projeto chamado Teste-MeetupR. Esse ser√° o nome da pasta criada e posteriormente do reposit√≥rio no GitHub.

```{r echo=TRUE, eval=FALSE}
usethis::create_project("~/GitHub/Teste-MeetupR") 
# ‚úî Creating 'GitHub/Teste-MeetupR/'
# ‚úî Setting active project to 'C:/Users/beatr/Documents/GitHub/Teste-MeetupR'
# ‚úî Creating 'R/'
# ‚úî Writing 'Teste-MeetupR.Rproj'
# ‚úî Adding '.Rproj.user' to '.gitignore'
# ‚úî Opening 'GitHub/Teste-MeetupR/' in new RStudio session
# ‚úî Setting active project to '<no active project>'
```
- O RStudio abrir√° outra janela, com o novo projeto criado.

---
### Novo projeto criado! 

- Projeto `r emo::ji("heavy_check_mark")`

- Git `r emo::ji("x")`

- GitHub `r emo::ji("x")`

```{r out.width="60%"}
knitr::include_graphics("img/prints/novo_projeto.png")
```

---

```{r echo=TRUE, eval=FALSE}
usethis::use_git()
# ‚úî Setting active project to 'C:/Users/beatr/Documents/GitHub/Teste-MeetupR'
# ‚úî Initialising Git repo
# ‚úî Adding '.Rhistory', '.RData' to '.gitignore'
# There are 2 uncommitted files:
# * '.gitignore'
# * 'Teste-MeetupR.Rproj'
# Is it ok to commit them?
# 
{{# 1: Absolutely  }}
# 2: Negative
# 3: No
# 
# Selection: 1
# ‚úî Adding files
# ‚úî Commit with message 'Initial commit'
# ‚óè A restart of RStudio is required to activate the Git pane
# Restart now?
# 
# 1: No way
{{# 2: For sure}}
# 3: Negative
# 
# Selection: 2
```

- O RStudio ir√° reiniciar para que apare√ßa o painel do Git

---
### Usando Git

- Projeto `r emo::ji("heavy_check_mark")`

- Git `r emo::ji("heavy_check_mark")`

- GitHub `r emo::ji("x")`

```{r out.width="60%"}
knitr::include_graphics("img/prints/novo_projeto_com_git.png")
```


---
```{r echo=TRUE, eval=FALSE}
usethis::use_github()
# ‚úî Setting active project to 'C:/Users/beatr/Documents/GitHub/Teste-MeetupR'
# ‚úî Checking that current branch is 'master'
# Which git protocol to use? (enter 0 to exit) 
# 
# 1: ssh   <-- presumes that you have set up ssh keys
{{# 2: https <-- choose this if you don't have ssh keys (or don't know if you do)}}
# 
# Selection: 2
# ‚óè Tip: To suppress this menu in future, put
#   `options(usethis.protocol = "https")`
#   in your script or in a user- or project-level startup file, '.Rprofile'.
#   Call `usethis::edit_r_profile()` to open it for editing.
# ‚óè Check title and description
#   Name:        Teste-MeetupR
#   Description: 
# Are title and description ok?
# 
# 1: No way
{{# 2: Definitely}}
# 3: Nope
# 
# Selection: 2
# ‚úî Creating GitHub repository
# ‚úî Setting remote 'origin' to 'https://github.com/beatrizmilz/Teste-MeetupR.git'
# ‚úî Pushing 'master' branch to GitHub and setting remote tracking branch
# ‚úî Opening URL 'https://github.com/beatrizmilz/Teste-MeetupR'
```

---
### Reposit√≥rio criado!

- Projeto `r emo::ji("heavy_check_mark")`

- Git `r emo::ji("heavy_check_mark")`

- GitHub `r emo::ji("heavy_check_mark")`

```{r out.width="60%"}
knitr::include_graphics("img/prints/criou-repositorio-github.PNG")
```

---

### Fun√ß√£o para criar um arquivo `README.md`

```{r, echo=TRUE, eval=FALSE}
usethis::use_readme_md()

```
- O arquivo ser√° criado e aberto, para ser editado e salvo.

```{r, out.width="20%"}
knitr::include_graphics("https://media2.giphy.com/media/1iu8uG2cjYFZS6wTxv/giphy-downsized.gif")
```


---
class: middle

### Exemplo:

```{r out.width="100%"}
knitr::include_graphics("img/gifs/create-proj2.gif")
```

.minirodape[Caso voc√™ esteja vendo a vers√£o em PDF, o video acima n√£o ir√° funcionar. Veja clicando [neste link](https://beatrizmilz.github.io/slidesR/git_rstudio/img/gifs/create-proj2.gif).]

---

## M√©todo 3

- **A partir de um reposit√≥rio existente, fazer um fork e clonar diretamente do RStudio**

- Para isso, usaremos a fun√ß√£o `usethis::create_from_github()`.

- Argumentos importantes:
  - `repo_spec = ` reposit√≥rio que quer trabalhar. Deve estar no formato: "usuario_github/repositorio". Veja o exemplo abaixo.
  - `destdir =` diret√≥rio onde quer que os arquivos sejam salvos
  - `fork =` se igual a TRUE, ir√° fazer o fork do reposit√≥rio. S√≥ funcionar√° se o token do GitHub foi configurado corretamente.

---
### Exemplo do uso da fun√ß√£o `create_from_github()`

- Exemplo: fork e clone do projeto [Lista de meetups R-Ladies no Brasil](https://github.com/R-Ladies-Sao-Paulo/RLadies-Brasil):


```{r echo=TRUE, eval=FALSE}
usethis::create_from_github("R-Ladies-Sao-Paulo/RLadies-Brasil",
                   destdir = "C:/Users/beatr/Documents/GitHub", 
                   fork = TRUE)
# ‚úî Creating 'C:/Users/beatr/Documents/GitHub/datascience-box/'
# ‚úî Forking 'R-Ladies-Sao-Paulo/RLadies-Brasil'
# ‚úî Cloning repo from 'https://github.com/beatrizmilz/RLadies-Brasil.git' into 'C:/Users/beatr/Documents/GitHub/RLadies-Brasil'
# ‚úî Setting active project to 'C:/Users/beatr/Documents/GitHub/RLadies-Brasil'
# ‚úî Adding 'upstream' remote: 'https://github.com/R-Ladies-Sao-Paulo/RLadies-Brasil.git'
# ‚úî Pulling changes from GitHub source repo 'upstream/master'
# ‚úî Setting remote tracking branch for local 'master' branch to 'upstream/master'
# ‚úî Opening 'C:/Users/beatr/Documents/GitHub/RLadies-Brasil/' in new RStudio session
# ‚úî Setting active project to 'C:/Users/beatr/Documents/GitHub/RLadies-Git-RStudio-2019'
```

---
class: middle, center, inverse

## Trabalhando colaborativamente

---
class: middle

## Branch

```{r, out.width="70%"}
knitr::include_graphics("img/prints/git-pane-branch.png")
```


---
### Crie uma branch

- Antes de fazer qualquer modifica√ß√£o, crie uma branch, usando a fun√ß√£o `usethis::pr_init()`. 
- Argumento importante: `branch =` indica o nome da branch que voc√™ quer criar. 

```{r echo=TRUE, eval=FALSE}
usethis::pr_init(branch = "teste")

# ‚úî Checking that local branch 'master' has the changes in 'origin/master'
# ‚úî Creating local PR branch 'teste'
# ‚úî Switching to branch 'teste'
# ‚óè Use `pr_push()` to create PR
```

---
### Fa√ßa altera√ß√µes e commits

- Fa√ßa suas contribui√ß√µes, e sempre fa√ßa commits com mensagens que deixem claro as mudan√ßas.

- Quando terminar as contribui√ß√µes necess√°rias, utilizar a fun√ß√£o `pr_push()`:

```{r echo=TRUE, eval=FALSE}
usethis::pr_push()
# ‚úî Pushing local 'teste' branch to 'origin:teste'
# ‚úî Setting upstream tracking branch for 'teste' to 'origin/teste'
# ‚úî Create PR at link given below
# ‚úî Opening URL 'https://github.com/beatrizmilz/RLadies-Git-RStudio-2019/compare/teste'
```

- A p√°gina do GitHub ser√° aberta, para que possa completar o Pull Request.

---
class: middle 

### Crie um Pull Request: 
```{r out.width="60%"}
knitr::include_graphics("img/prints/pr-push.PNG")
```

---
class: middle 

### Open a Pull Request: 
```{r out.width="60%"}
knitr::include_graphics("img/prints/pr-push2.png")
```

---


### Exemplo: PR foi aberto

```{r out.width="60%"}
knitr::include_graphics("img/prints/pr-push3.png")
```

- Depois dessa etapa, voc√™ deve esperar a pessoa que mant√©m o reposit√≥rio responder fazendo sugest√µes para melhorias, aceitando seu PR, etc.


---

### Modificar o PR

- Algu√©m fez uma sugest√£o, como alterar o PR enviado? Ex:

```{r echo=FALSE, out.width="30%"}
knitr::include_graphics("img/prints/sugestoes-git.PNG")
```
- No mesmo projeto e na __mesma branch__ que voc√™ usou para enviar o PR, fa√ßa as altera√ß√µes.

- Selecione o arquivo modificado para deix√°-lo dispon√≠vel para criar um Commit. Fa√ßa o commit.

- Para enviar o novo commit, use o Git Push (aperte a seta verde para cima no painel do Git do RStudio).





---

### Depois que o PR √© aceito:  Merged

```{r out.width="60%"}
knitr::include_graphics("img/prints/pr-push4.PNG")
```

---
class: middle 

### √öltima etapa: __AP√ìS__ o PR ter sido aceito (merged)

- A fun√ß√£o `usethis::pr_finish()`:
  - Retorna para master
  - Atualiza (usando o pull) o conte√∫do 
  - Deleta a branch criada para enviar o PR

```{r echo=TRUE, eval=FALSE}
usethis::pr_finish()
# ‚úî Switching back to 'master' branch
# ‚úî Pulling changes from GitHub source repo 'origin/master'
# ‚úî Deleting local 'teste' branch
```

- Pronto! 


---
class: center, middle 

## Linha de comando ou interface gr√°fica?
## Use o que for melhor para **voc√™**!

```{r out.width="30%"}
knitr::include_graphics("https://media0.giphy.com/media/dNgK7Ws7y176U/giphy.gif")
```

Confira a [cheatsheet do Git](https://github.github.com/training-kit/downloads/pt_BR/github-git-cheat-sheet.pdf)!




---
class: middle 

# Refer√™ncias

- [Slide](https://curso-r.github.io/main-pacotes/slides/index.html) do curso de [Pacotes](https://curso-r.com/cursos/pacotes/), da [Curso-R](https://curso-r.com/).


- Parte deste material foi baseado/inspirado neste post do blog da [Curso-R](https://www.curso-r.com/), escrito por [Caio Lente](https://lente.dev/):
  - [Git e GitHub (Zen do R - Parte 4)](https://www.curso-r.com/blog/2019-07-23-zen-do-r-4/)
  
- Outra refer√™ncia importante: [Happy Git and GitHub for the useR - 
Jenny Bryan](https://happygitwithr.com/)


- Documenta√ß√£o do pacote [usethis](https://usethis.r-lib.org/reference/create_package.html)

- Evento da R-Ladies SP de 2020: https://r-ladies-sao-paulo.github.io/2020-hacktoberfest/

---
class: middle, center

# Refer√™ncias

##  [Palestra](https://youtu.be/ZCeBnQBQ1h8) (em ingl√™s) da [Jenny Bryan](https://jennybryan.org/):

<iframe width="560" height="315" src="https://www.youtube.com/embed/ZCeBnQBQ1h8" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

---
class: middle

## Interface Gr√°fica RStudio

```{r, out.width="70%"}
knitr::include_graphics("img/prints/cheatsheet.PNG")
```

Fonte: [RStudio Cheatsheet](https://www.rstudio.com/wp-content/uploads/2019/01/Cheatsheets_2019.pdf)

---
class: center

## Muito obrigada!

.pull-left[

```{r echo=FALSE, fig.align='center', out.width="40%"}
knitr::include_graphics("https://media.giphy.com/media/M9NbzZjAcxq9jS9LZJ/giphy.gif")
```


Slides criados usando os pacotes em R  üì¶ :

[**xaringan**](https://github.com/yihui/xaringan)<br>
[gadenbuie/xaringanthemer](https://github.com/gadenbuie/xaringanthemer)

O chakra vem da biblioteca javascript [remark.js](https://remarkjs.com), e os pacotes  [**knitr**](http://yihui.name/knitr), e [R Markdown](https://rmarkdown.rstudio.com).
]

.pull-right[

<center>
<img src="img/avatar.jpeg" alt="Avatar" style="border-radius: 50%; max-width: 50%; "></center>

<i class="fas fa-home"></i> [beatrizmilz.com](https://beatrizmilz.com)

<i class="fab fa-twitter"></i> [@BeaMilz](https://twitter.com/BeaMilz)

<i class="far fa-envelope"></i> [milz.bea@gmail.com](mailto:milz.bea@gmail.com)
]



<!-- inicio academic icons -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jpswalsh/academicons@1/css/academicons.min.css">
<!-- final academic icons -->

 
<!-- inicio font awesome -->
<script src="https://kit.fontawesome.com/1f72d6921a.js" crossorigin="anonymous"></script>

<!-- final font awesome -->
